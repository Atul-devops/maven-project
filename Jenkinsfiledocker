node
{
stage ('SCM Checkout')
{
   git 'https://github.com/Atul-devops/maven-project.git'
   }
   
stage ('package stage')
{
sh label: '', script: 'mvn clean package'
   }
   
stage ('docker image build') 
{
sh 'docker build -t atul0407/atul-app:0.1 .'
   }
   
   
	stage ('Push Docker image to DockerHub') {
	  withCredentials([usernamePassword(credentialsId: 'dockerHubAccount', passwordVariable: 'atul@04071995', usernameVariable: 'atul0407')])  {
	     sh "docker login -u atul0407 -p ${dockerHubAccount}"
	     }
	   sh 'docker push atul0407/atul-app:0.1'
   }
}
